# =============================================================================
# RENDER - Configuraci칩n de Deploy
# =============================================================================
# Este archivo configura el deploy autom치tico en Render.com
# Docs: https://render.com/docs/blueprint-spec
# =============================================================================

services:
  # API Principal
  - type: web
    name: forestguard-api
    env: docker
    dockerfilePath: ./Dockerfile
    region: oregon  # M치s cercano a Supabase (si est치 en us-west)
    plan: free
    
    # Health check
    healthCheckPath: /health
    
    # Variables de entorno (configurar en Render Dashboard)
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: DEBUG
        value: false
      - key: LOG_LEVEL
        value: INFO
      - key: PORT
        value: 8000
      - key: API_V1_PREFIX
        value: /api/v1
      # Estas se configuran como secretos en el Dashboard de Render:
      - key: DB_HOST
        sync: false
      - key: DB_PORT
        sync: false
      - key: DB_NAME
        sync: false
      - key: DB_USER
        sync: false
      - key: DB_PASSWORD
        sync: false
      - key: SECRET_KEY
        sync: false
      - key: FIRMS_API_KEY
        sync: false
      - key: PUBLIC_BASE_URL
        sync: false
      - key: ALLOWED_ORIGINS
        sync: false
